<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta name="robots" content="noindex">
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Category.hh Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body bgcolor="#ffffff">
<!-- Generated by Doxygen 1.2.1 on Sat Dec 9 00:40:26 2000 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="namespaces.html">Namespace List</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; </center>
<hr><h1>Category.hh</h1><a href="Category_hh.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <font class="comment">/*
</font>00002 <font class="comment"> * Category.hh
</font>00003 <font class="comment"> *
</font>00004 <font class="comment"> * Copyright 2000, LifeLine Networks BV (www.lifeline.nl). All rights reserved.
</font>00005 <font class="comment"> * Copyright 2000, Bastiaan Bakker. All rights reserved.
</font>00006 <font class="comment"> *
</font>00007 <font class="comment"> * See the LICENSE file for the terms of usage and distribution.
</font>00008 <font class="comment"> */</font>
00009 
00010 <font class="preprocessor">#ifndef _LOG4CPP_CATEGORY_HH
</font>00011 <font class="preprocessor"></font><font class="preprocessor">#define _LOG4CPP_CATEGORY_HH
</font>00012 <font class="preprocessor"></font>
00013 <font class="preprocessor">#include &lt;string&gt;</font>
00014 <font class="preprocessor">#include &lt;strstream&gt;</font>
00015 <font class="preprocessor">#include &lt;map&gt;</font>
00016 <font class="preprocessor">#include &lt;set&gt;</font>
00017 <font class="preprocessor">#include &lt;stdarg.h&gt;</font>
00018 <font class="preprocessor">#include "<a class="code" href="Appender_hh.html">log4cpp/Appender.hh</a>"</font>
00019 <font class="preprocessor">#include "<a class="code" href="HierarchyMaintainer_hh.html">log4cpp/HierarchyMaintainer.hh</a>"</font>
00020 <font class="preprocessor">#include "<a class="code" href="LoggingEvent_hh.html">log4cpp/LoggingEvent.hh</a>"</font>
00021 <font class="preprocessor">#include "<a class="code" href="Priority_hh.html">log4cpp/Priority.hh</a>"</font>
00022 
00023 <font class="keyword">namespace</font> log4cpp {
00030     <font class="keyword">class </font>Category;
00031 
<a name="l00032"></a><a class="code" href="class_log4cpp__CategoryStream.html">00032</a>     <font class="keyword">class </font>CategoryStream {
00033         <font class="keyword">public</font>:
00034 
<a name="l00035"></a><a class="code" href="class_log4cpp__CategoryStream__Separator.html">00035</a>         <font class="keyword">struct </font>Separator {
00036         };
00037 
<a name="l00038"></a><a class="code" href="class_log4cpp__CategoryStream.html#p0">00038</a>         <font class="keyword">static</font> Separator ENDLINE;
00039 
00040         CategoryStream(Category&amp; category, <font class="keywordtype">int</font> priority);
00041         ~CategoryStream();
00042         
<a name="l00043"></a><a class="code" href="class_log4cpp__CategoryStream.html#a2">00043</a>         <font class="keyword">inline</font> Category&amp; getCategory()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> _category; };
<a name="l00044"></a><a class="code" href="class_log4cpp__CategoryStream.html#a3">00044</a>         <font class="keyword">inline</font> <font class="keywordtype">int</font> getPriority()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> _priority; };
00045 
00046         CategoryStream&amp; operator&lt;&lt;(<font class="keyword">const</font> Separator&amp; separator);
00047         <font class="keywordtype">void</font> flush();
00048 
<a name="l00049"></a><a class="code" href="class_log4cpp__CategoryStream.html#a6">00049</a>         template&lt;class T&gt; CategoryStream&amp; operator&lt;&lt;(<font class="keyword">const</font> T&amp; t)<font class="keyword"> </font>{
00050             <font class="keywordflow">if</font> (getPriority() != Priority::NOTSET) {
00051                 <font class="keywordflow">if</font> (!_buffer) {
00052                     _buffer = <font class="keyword">new</font> ostrstream;
00053                 }
00054                 (*_buffer) &lt;&lt; t;
00055             }
00056             <font class="keywordflow">return</font> *<font class="keyword">this</font>;
00057         };
00058         
00059         <font class="keyword">private</font>:
00060         Category&amp; _category;
00061         <font class="keywordtype">int</font> _priority;
00062         ostrstream* _buffer;
00063     };
00064    
<a name="l00065"></a><a class="code" href="class_log4cpp__Category.html">00065</a>     <font class="keyword">class </font>Category {
<a name="l00066"></a><a class="code" href="class_log4cpp__Category.html#l0">00066</a>         <font class="keyword">friend</font> <font class="keyword">class </font>HierarchyMaintainer;
00067 
00068         <font class="keyword">public</font>:
00069         
00081         <font class="keyword">static</font> Category&amp; getRoot();
00082 
00087         <font class="keyword">static</font> <font class="keywordtype">void</font> setRootPriority(<font class="keywordtype">int</font> priority);
00088 
00093         <font class="keyword">static</font> <font class="keywordtype">int</font> getRootPriority();
00094 
00102         <font class="keyword">static</font> Category&amp; getInstance(<font class="keyword">const</font> string&amp; name);
00103 
00114         <font class="keyword">static</font> set&lt;Category*&gt;* getCurrentCategories();
00115  
00116         <font class="keyword">virtual</font> ~Category();
00117         
<a name="l00122"></a><a class="code" href="class_log4cpp__Category.html#a1">00122</a>         <font class="keyword">inline</font> <font class="keyword">const</font> string&amp; getName()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> _name; };
00123         
00129         <font class="keywordtype">void</font> setPriority(<font class="keywordtype">int</font> priority);
00130 
00135         <font class="keywordtype">int</font> getPriority() <font class="keyword">const</font>;
00136 
00145         <font class="keywordtype">int</font> getChainedPriority() <font class="keyword">const</font>;
00146 
00151         <font class="keywordtype">bool</font> isPriorityEnabled(<font class="keywordtype">int</font> priority) <font class="keyword">const</font>;
00152         
00158         <font class="keywordtype">void</font> setAppender(Appender* appender);
00159 
00165         <font class="keywordtype">void</font> setAppender(Appender&amp; appender);
00166 
00172         Appender* getAppender() <font class="keyword">const</font>;
00173 
00178         <font class="keywordtype">bool</font> ownsAppender() <font class="keyword">const</font>;
00179 
00191         <font class="keywordtype">void</font> callAppenders(<font class="keyword">const</font> LoggingEvent&amp; event);
00192         
00196         <font class="keywordtype">void</font> setAdditivity(<font class="keywordtype">bool</font> additivity);
00197 
<a name="l00201"></a><a class="code" href="class_log4cpp__Category.html#a12">00201</a>         <font class="keyword">inline</font> <font class="keywordtype">bool</font> getAdditivity()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> _isAdditive; };
00202 
00210         <font class="keywordtype">void</font> log(<font class="keywordtype">int</font> priority, <font class="keyword">const</font> <font class="keywordtype">char</font>* stringFormat, ...);
00211 
00217         <font class="keywordtype">void</font> log(<font class="keywordtype">int</font> priority, <font class="keyword">const</font> string&amp; message);
00218         
00225         <font class="keywordtype">void</font> debug(<font class="keyword">const</font> <font class="keywordtype">char</font>* stringFormat, ...);
00226 
00231         <font class="keywordtype">void</font> debug(<font class="keyword">const</font> string&amp; message);
<a name="l00232"></a><a class="code" href="class_log4cpp__Category.html#a17">00232</a>         <font class="keyword">inline</font> <font class="keywordtype">bool</font> isDebugEnabled()<font class="keyword"> const </font>{ 
00233             <font class="keywordflow">return</font> isPriorityEnabled(Priority::DEBUG); 
00234         };
00235 
<a name="l00236"></a><a class="code" href="class_log4cpp__Category.html#a18">00236</a>         <font class="keyword">inline</font> CategoryStream debugStream()<font class="keyword"> </font>{
00237             <font class="keywordflow">return</font> getStream(Priority::DEBUG);
00238         }
00239 
00246         <font class="keywordtype">void</font> info(<font class="keyword">const</font> <font class="keywordtype">char</font>* stringFormat, ...);
00247 
00252         <font class="keywordtype">void</font> info(<font class="keyword">const</font> string&amp; message);
<a name="l00253"></a><a class="code" href="class_log4cpp__Category.html#a21">00253</a>         <font class="keyword">inline</font> <font class="keywordtype">bool</font> isInfoEnabled()<font class="keyword"> const </font>{ 
00254             <font class="keywordflow">return</font> isPriorityEnabled(Priority::INFO); 
00255         };
00256 
<a name="l00257"></a><a class="code" href="class_log4cpp__Category.html#a22">00257</a>         <font class="keyword">inline</font> CategoryStream infoStream()<font class="keyword"> </font>{
00258             <font class="keywordflow">return</font> getStream(Priority::INFO);
00259         }
00260         
00267         <font class="keywordtype">void</font> warn(<font class="keyword">const</font> <font class="keywordtype">char</font>* stringFormat, ...);
00268 
00273         <font class="keywordtype">void</font> warn(<font class="keyword">const</font> string&amp; message);
<a name="l00274"></a><a class="code" href="class_log4cpp__Category.html#a25">00274</a>         <font class="keyword">inline</font> <font class="keywordtype">bool</font> isWarnEnabled()<font class="keyword"> const </font>{ 
00275             <font class="keywordflow">return</font> isPriorityEnabled(Priority::WARN); 
00276         };
00277 
<a name="l00278"></a><a class="code" href="class_log4cpp__Category.html#a26">00278</a>         <font class="keyword">inline</font> CategoryStream warnStream()<font class="keyword"> </font>{
00279             <font class="keywordflow">return</font> getStream(Priority::WARN);
00280         }
00281         
00288         <font class="keywordtype">void</font> error(<font class="keyword">const</font> <font class="keywordtype">char</font>* stringFormat, ...);
00289 
00294         <font class="keywordtype">void</font> error(<font class="keyword">const</font> string&amp; message);
<a name="l00295"></a><a class="code" href="class_log4cpp__Category.html#a29">00295</a>         <font class="keyword">inline</font> <font class="keywordtype">bool</font> isErrorEnabled()<font class="keyword"> const </font>{ 
00296             <font class="keywordflow">return</font> isPriorityEnabled(Priority::ERROR); 
00297         };
00298         
<a name="l00299"></a><a class="code" href="class_log4cpp__Category.html#a30">00299</a>         <font class="keyword">inline</font> CategoryStream errorStream()<font class="keyword"> </font>{
00300             <font class="keywordflow">return</font> getStream(Priority::ERROR);
00301         }
00302 
00303         CategoryStream getStream(<font class="keywordtype">int</font> priority);
00304 
00305         CategoryStream operator&lt;&lt;(<font class="keywordtype">int</font> priority);
00306 
00307         <font class="keyword">protected</font>:
00308 
<a name="l00314"></a><a class="code" href="class_log4cpp__Category.html#b0">00314</a>         <font class="keyword">inline</font> Category* getParent()<font class="keyword"> </font>{ <font class="keywordflow">return</font> _parent; };
00315 
<a name="l00321"></a><a class="code" href="class_log4cpp__Category.html#b1">00321</a>         <font class="keyword">inline</font> <font class="keyword">const</font> Category* getParent()<font class="keyword"> const </font>{ <font class="keywordflow">return</font> _parent; };
00322 
00323         <font class="keywordtype">void</font> _logUnconditionally(<font class="keywordtype">int</font> priority, <font class="keyword">const</font> <font class="keywordtype">char</font>* format, 
00324                                 va_list arguments);
00325         
00331         <font class="keywordtype">void</font> _logUnconditionally2(<font class="keywordtype">int</font> priority, <font class="keyword">const</font> string&amp; message);
00332 
00333 
00334         <font class="keyword">private</font>:
00335         Category(<font class="keyword">const</font> string&amp; name, Category* parent, <font class="keywordtype">int</font> priority = Priority::NOTSET);
00336         
00338         <font class="keyword">const</font> string _name;
00339 
00344         Category* _parent;
00345 
00349         <font class="keywordtype">int</font> _priority;
00350 
00356         Appender* _appender;
00357 
00358 
00363         <font class="keywordtype">bool</font> _ownsAppender;
00364 
00369         <font class="keywordtype">bool</font> _isAdditive;
00370 
00371     };
00372 
00373 
00374 }
00375 <font class="preprocessor">#endif // _LOG4CPP_CATEGORY_HH
</font></div></pre><hr><address><small>Generated at Sat Dec 9 00:40:26 2000 for log4cpp by
<a href="http://www.stack.nl/~dimitri/doxygen/index.html">
<img src="doxygen.gif" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.1 written by <a href="mailto:dimitri@stack.nl">Dimitri van Heesch</a>,
 &copy;&nbsp;1997-2000</small></address>
</body>
</html>
